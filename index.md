---
layout: landing
title: The LMS Platform
tagline: Generative Programming and Embedded Compilers in Scala
---

<div class="container">
    <div class="jumbotron">
    <div class="row">
    <div class="col-lg-4">
      <h1>LMS</h1>
      <p class="lead">Program Generation and <br/> Embedded Compilers in Scala.</p>
      <p><a class="btn btn-lg btn-success" href="tutorials/index.html" role="button">Get started now</a></p>
    </div>


    <div class="col-lg-8">

    <!-- Carousel
    ================================================== -->
    <div id="myCarousel" class="carousel slide" data-ride="carousel">
      <!-- Indicators -->
      <ol class="carousel-indicators">
        <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
        <li data-target="#myCarousel" data-slide-to="1"></li>
        <li data-target="#myCarousel" data-slide-to="2"></li>
      </ol>
      <div class="carousel-inner">
        <div class="item active">
          <img src="data:image/gif;base64,R0lGODlhAQABAIAAAHd3dwAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==" alt="First slide">
          <div class="container">
            <div class="carousel-caption">
              <h2>LMS = Lightweight Modular Staging</h2>
              <p>An extensible compiler framework, implemented as a Scala library.
              </p>
              <!--<p><a class="btn btn-lg btn-primary" href="#" role="button">Sign up today</a></p>-->
            </div>
          </div>
        </div>
        <div class="item">
          <img src="data:image/gif;base64,R0lGODlhAQABAIAAAGZmZgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==" alt="Second slide">
          <div class="container">
            <div class="carousel-caption">
              <h2>Abstraction Without Regret</h2>
              <p>Turn nice high-level programs into fast low-level code.</p>
              <!-- <p><a class="btn btn-lg btn-primary" href="#" role="button">Learn more</a></p> -->
            </div>
          </div>
        </div>
        <div class="item">
          <img src="data:image/gif;base64,R0lGODlhAQABAIAAAFVVVQAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==" alt="Third slide">
          <div class="container">
            <div class="carousel-caption">
              <h2>High-level high-performance programming</h2>
              <p>Strip abstraction overhead from generic programs. Add domain-specific optimizations.</p>
              <!-- <p><a class="btn btn-lg btn-primary" href="#" role="button">Browse gallery</a></p> -->
            </div>
          </div>
        </div>
        <div class="item">
          <img src="data:image/gif;base64,R0lGODlhAQABAIAAAFVVVQAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==" alt="Fourth slide">
          <div class="container">
            <div class="carousel-caption">
              <h2>Batteries included</h2>
              <p>Don't start from scratch. Leverage generic optimizations and code generators.</p>
              <!-- <p><a class="btn btn-lg btn-primary" href="#" role="button">Browse gallery</a></p> -->
            </div>
          </div>
        </div>
      </div>
      <a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev"><span class="glyphicon glyphicon-chevron-left"></span></a>
      <a class="right carousel-control" href="#myCarousel" role="button" data-slide="next"><span class="glyphicon glyphicon-chevron-right"></span></a>
    </div><!-- /.carousel -->

    </div><!-- col -->
    </div><!-- row -->
    </div><!-- jumbo -->
    </div><!-- container -->

<div class="container marketing">
<div class="row">
<div class="col-lg-4" markdown="1"> 
# About LMS

Lightweight Modular Staging (LMS) is a runtime code generation
approach. The framework provides a library of core components for
building high performance code generators and embedded compilers in
Scala.

Closely related projects are [Delite](http://stanford-ppl.github.com/Delite/), 
a framework for domain specific languages (DSLs) that generates parallel 
code for heterogeneous devices, and [Scala Virtualized](https://github.com/tiarkrompf/scala-virtualized/wiki), 
a set of minimal extensions to the Scala compiler that make embedding 
DSLs more seamless.

<p><a class="btn btn-default" href="#" role="button">View details &raquo;</a></p>
</div>

<div class="col-lg-4" markdown="1">
# News Flash

The Summer of LMS

StrangeLoop

VLDB paper

ScalaDays

<p><a class="btn btn-default" href="#" role="button">View details &raquo;</a></p>
</div>


<div class="col-lg-4" markdown="1">
# Tutorials

[CUFP 2014](http://cufp.org/2014/): Gothenburg, September 5.  
More info: 
[scala-lms.github.io/cufp2014](http://cufp.org/2014/t11-tiark-rompf-batteries-included-generative-programming-with-scala-and-lms.html) 

[SPLASH 2014](http://pldi2013.ucombinator.org): Portland, Oct 22.  
More info: 
[scala-lms.github.io/splash2014](pldi2013/index.html) 

[PLDI 2013](http://pldi2013.ucombinator.org): Seattle, June 16.  
More info: 
[scala-lms.github.io/pldi2013](pldi2013/index.html) 

[ECOOP 2013](http://www.lirmm.fr/ecoop13/): Montpellier, July 3-5.  
More info: 
[scala-lms.github.io/ecoop2013](ecoop2013/index.html)

<p><a class="btn btn-default" href="resources.html" role="button">View details &raquo;</a></p>
</div>
</div><!-- row -->
</div><!-- container -->

<!-- <hr class="featurette-divider"> -->



<!-- Marketing messaging and featurettes
================================================== -->
<!-- Wrap the rest of the page in another container to center all the content. -->

<div class="container marketing">

<!-- Three columns of text below the carousel -->
<div class="row">
<div class="col-lg-4" markdown="1">
<img class="img-circle" src="data:image/gif;base64,R0lGODlhAQABAIAAAHd3dwAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==" alt="Generic placeholder image" style="width: 140px; height: 140px;">

## Generative Programming

Lightweight Modular Staging (LMS) is a runtime code generation
approach. The framework provides a library of core components for
building high performance code generators and embedded compilers in
Scala.
<p><a class="btn btn-default" href="#" role="button">View details &raquo;</a></p>
</div><!-- /.col-lg-4 -->
<div class="col-lg-4" markdown="1">
<img class="img-circle" src="data:image/gif;base64,R0lGODlhAQABAIAAAHd3dwAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==" alt="Generic placeholder image" style="width: 140px; height: 140px;">

## Domain Specific Languges

Two closely related projects are [Delite](http://stanford-ppl.github.com/Delite/), 
a framework for domain specific languages (DSLs) that generates parallel 
code for heterogeneous devices, and [Scala Virtualized](https://github.com/tiarkrompf/scala-virtualized/wiki), 
a set of minimal Scala extensions that make embedding 
DSLs more seamless.
<p><a class="btn btn-default" href="#" role="button">View details &raquo;</a></p>
</div><!-- /.col-lg-4 -->

<div class="col-lg-4" markdown="1">
<img class="img-circle" src="data:image/gif;base64,R0lGODlhAQABAIAAAHd3dwAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==" alt="Generic placeholder image" style="width: 140px; height: 140px;">

## Embedded Compilers

Specialize and compile pieces of a program at runtime. Building multi-pass compiler
pipelines is not fundamentally more difficult than writing interpreters

<p><a class="btn btn-default" href="#" role="button">View details &raquo;</a></p>
</div><!-- /.col-lg-4 -->
</div><!-- /.row -->



      <!-- START THE FEATURETTES -->

      <hr class="featurette-divider">

      <div class="row featurette">
        <div class="col-md-7">
          <h2 class="featurette-heading">Abstraction without regret. <span class="text-muted">It'll blow your mind.</span></h2>
          <p class="lead">Turn nice high-level programs into fast low-level code. Strip abstraction overhead from generic programs. Add domain-specific optimizations.</p>
        </div>
        <div class="col-md-5" markdown="1">
{% highlight scala %}
class Vector[T:Numeric](val data: Rep[Array[T]]) {
  def foreach(f: Rep[T] => Rep[Unit]): Rep[Unit] =
    for (i <- 0 until data.length) f(data(i))
  def sumIf(f: Rep[T] => Rep[Unit]) = { 
    var n = zero[T]; foreach(x => if (f(x) n += x)); n }
}

val v: Vector[Double] = ...
println(v.sumIf(_ > 0))
{% endhighlight %}

Running the snippet above will generate the program on the below: 
All functions are inlined, all generics specialized, all type class instances removed.
This is guaranteed by the type system: Expressions of type `Rep[T]` become
part of the generated program, everything else is evaluated when the original
snippet is run. 

{% highlight scala %}
var n: Double = 0.0
var i: Int = 0
val end = data.length
while (i < end) {
  val x = data(i)
  val c = x > 0
  if (c) n += x
}
println(n)
{% endhighlight %}

Actually this is only half of the story: The output on the left is not produced
directly, but going through an extensible intermediate representation (IR) that
can be further transformed and optimized.
[Read more...](#docs)
</div>
</div>

<hr class="featurette-divider">

<div class="row featurette">
  <div class="col-md-5">
    <img class="featurette-image img-responsive" data-src="holder.js/500x500/auto" alt="Generic placeholder image">
  </div>
  <div class="col-md-7">
    <h2 class="featurette-heading">Run Scala anywhere. <span class="text-muted">See for yourself.</span></h2>
    <p class="lead">Generate code for heterogenenous targets. Compile Scala to JavaScript, SQL, CUDA, C...</p>
  </div>
</div>

<hr class="featurette-divider">

<div class="row featurette">
  <div class="col-md-7">
    <h2 class="featurette-heading">Getting started. <span class="text-muted">Checkmate.</span></h2>
    <p class="lead" markdown="1">Clone the [GitHub repo](http://github.com/TiarkRompf/virtualization-lms-core). It contains an extensive test suite with examples. Be sure to check out the [docs](#docs) below!</p>
  </div>
  <div class="col-md-5">
    <img class="featurette-image img-responsive" data-src="holder.js/500x500/auto" alt="Generic placeholder image">
  </div>
</div>

<hr class="featurette-divider">

<!-- /END THE FEATURETTES -->

<!--
<div class="container marketing">
<div class="row">
<div class="col-lg-2" markdown="1"> 
<img class="img-circle" src="data:image/gif;base64,R0lGODlhAQABAIAAAHd3dwAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==" alt="Generic placeholder image" style="width: 140px; height: 140px;">
</div>
<div class="col-lg-2" markdown="1"> 
<img class="img-circle" src="data:image/gif;base64,R0lGODlhAQABAIAAAHd3dwAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==" alt="Generic placeholder image" style="width: 140px; height: 140px;">
</div>
<div class="col-lg-2" markdown="1"> 
<img class="img-circle" src="data:image/gif;base64,R0lGODlhAQABAIAAAHd3dwAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==" alt="Generic placeholder image" style="width: 140px; height: 140px;">
</div>
<div class="col-lg-2" markdown="1"> 
<img class="img-circle" src="data:image/gif;base64,R0lGODlhAQABAIAAAHd3dwAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==" alt="Generic placeholder image" style="width: 140px; height: 140px;">
</div>
<div class="col-lg-2" markdown="1"> 
<img class="img-circle" src="data:image/gif;base64,R0lGODlhAQABAIAAAHd3dwAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==" alt="Generic placeholder image" style="width: 140px; height: 140px;">
</div>
<div class="col-lg-2" markdown="1"> 
<img class="img-circle" src="data:image/gif;base64,R0lGODlhAQABAIAAAHd3dwAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==" alt="Generic placeholder image" style="width: 140px; height: 140px;">
</div>
</div>
</div>-->

<!-- FOOTER -->
<footer>
  <p class="pull-right"><a href="#">Back to top</a></p>
  <p>&copy; 2014 Company, Inc. &middot; <a href="#">Privacy</a> &middot; <a href="#">Terms</a></p>
</footer>

</div><!-- /.container -->
